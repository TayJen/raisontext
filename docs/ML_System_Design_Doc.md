# ML System Design Doc - [RU]
## Дизайн ML системы - RaisonText MVP

### 1. Цели и предпосылки
#### 1.1. Зачем идем в разработку продукта?

Бизнес-цель: разработка инновационной онлайн системы распознавания синтетически сгенерированного текста для обеспечения высокой точности в выявлении неоригинальных конструкций. Наша миссия заключается в предоставлении эффективного решения для компаний и организаций, сталкивающихся с риском мошенничества, распространения фейковой информации или других негативных последствий, связанных с использованием синтетического текста.

Наш продукт призван снизить риски и затраты, связанные с воздействием синтетического контента, обеспечивая клиентам возможность быстрого и надежного выявления поддельных текстовых данных. Наш подход направлен на создание эффективного инструмента, который может использоваться в реальном времени для мониторинга и фильтрации текстов, повышая уровень безопасности и достоверности информации в онлайн-среде.

Критерий успеха:

- решение работает, доступно по API
- на входе - текст
- на выходе - вероятность того, является ли он синтетическим
- ROC-AUC > 75%

#### 1.2. Бизнес-требования и ограничения  

Требования:

- код решения и данные в открытом доступе, open source
- код и документация находится в этом репо
- используются только публично доступные или сгенерированные данные
- система обрабатывает документы на английском языке и русском языках
- система обрабатывает документы размером от 50 до 1000 токенов
- система может принимать 1 документ за 1 запрос
- система имеет простой Web UI с возможностью вставить 1 текстовый документ и получить оценку
- на выходе система отдает скор от 0 до 1 на каждый входной документ
- время ответа не более 15 сек

Возможные применения и пути развития проекта:

- фильтрация постов/комментариев/ответов в онлайн сервисах и сообществах
- фильтрация статей и научных достижений (research integrity)
- проверка оригинальности текстовой работы (эссе, курсовая и тд) в образовании
- использование дата сайнтистами и дата аналитиками в рабочих задачах

### 2. Методология

#### 2.1. Постановка задачи

Решаем задачу бинарной классификации текстовых документов на синтетически сгенерированные или реальные

#### 2.2. Блок-схема решения

![Блок-схема решения](block_scheme_raisontext.jpg)   

#### 2.3. Этапы решения задачи

**Этап 1. Подготовка данных**

Задачи:
- собрать датасет текстов
- сгененировать необходимое количество примеров *TODO:* на этапе EDA добавить технических подходов к генерации
- разметить данные *TODO:* на этапе EDA добавить технических подходов к разметке

Риски и вызовы:
- сделать качественную разметку
- создать необходимый уровень разннобразия данных, чтобы не переобучаться на тематику текстов или способ их генерации

Выход:
- не менее 5 млн текстовых документов
- баланс классов (если делить по 0.5 порогу) не хуже чем 4:1
- оценка распределений, качества и характера данных
- *TODO:* добавить требования по хранению и версионированию данных

**Этап 2. Построение Baseline ML модели**

Задачи:
- реализовать обработку, чистку, представление текстовых данных
- применить tf-idf + log reg как базовый подход
- feature engineering
- попробовать другие простые подходы
- *TODO:* возможно добавить тех. требования по проведению экспериментов

Риски и вызовы:
- выгореть и быть не в ресурсе

Выход:
- стабильный пайплайн на python с четкими шагами
- покрытие кода тестами не менее 50%
- пакет в pypi
- модель и параметры сохранить
- достигнуть указанного в п 1.1 значения метрики
- оценка вычислительной сложности и интерпретация моделей
- дополннения к ограничениям следующих этапов, если есть

**Этап 3 (optional). Построение дополнительных моделей**

Задачи:
- реализация и оценка других подходов помимо базовых *TODO:* уточнить задачи
- сохранение проведенных экспериментов
- выбор оптимального решения, ансамблирование

Риски и вызовы:
- доступные мощности и время на эксперименты

Выход:
- документация по проведенным экспериментам
- код по отвергнутым гипотезам допустимо оставить в jupyter тетрадках
- реализация оптимального варианта

**Этап 4. Развертывание**

Задачи:
- разработка API
- развертывание системы на сервере
- отладка мониторинга и логгирования
- *TODO:* добавить требования к инфраструктуре

Риски и вызовы:
- проблемы с соблюдением ограничений из п. 1.2

Выход:
- доступный к использованию API
- соответствующая документация
- примеры использования в readme

**Этап 5 (optional). Разработка web интерфейса**

Задачи:
- создание страницы с простым интерфейсом
- возможность вставить текст документа
- возможность получить оценку документа
- обработка ошибок и нестандартных юз-кейсов
- *TODO:* добавить технический стек

Риски и вызовы:
- отсутствуют, т. к. этап optional и может быть не реализован

Выход:
- соответствующая кодовая база, возможно в другом репо
- работающая web-страница с заявленным функционалом

**Этап 6. Тестирование и отладка**

Задачи:
- устранение технического долга
- тестирование системы
- привлечение пользователей со стороны для пробного использования системы
- отработка сценариев отказа и повреждения системы

Риски и вызовы:
- ненадежность системы, сбои в работе
- уязвимости системы

Выход:
- необходимые исправления и доработки

**Этап 7. Создание финального отчета**

Задачи:
- подготовить защиту проекта

Риски и вызовы:
- отсутствуют, т. к. линейная работа с предсказуемым результатом

Выход:
- план презентации
- необходимые материалы к демо
- если этап 5 не успешен - небольшой google colab для демо
